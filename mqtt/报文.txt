
报文格式

固定报头 + 可变报头 +有效载荷

固定报头：一般两个字节：
10 ??

可变报头：{
	   协议名
	   协议等级
           连接标志
           保持连接
         }
00 04 4D 51 54 54 04 C2 00 64				

有效载荷：{
           客户端标识符
	   用户名
           密码
         }

客户端ID： *|securemode=3,signmethod=hmacsha1|
用户名： *&#
密码： clientId*deviceName*productKey#
注：*为设备名称，#为productKey

客户端ID： device1|securemode=3,signmethod=hmacsha1|
用户名： device1&iyaw8ZnNOPd
哈希密码：2c2a002b4c21d2614b27cca211be4c62c7979962
密码： clientIddevice1deviceNamedevice1productKeyiyaw8ZnNOPd


/************************************************************************************************/
十六进制有效载荷：
客户端ID(41)：00 29 64 65 76 69 63 65 31 7C 73 65 63 75 72 65 6D 6F 64 65 3D 33 2C 73 69 67 6E 6D 65 74 68 6F 64 3D 68 6D 61 63 73 68 61 31 7C 
用户名(19)：00 13 64 65 76 69 63 65 31 26 69 79 61 77 38 5A 6E 4E 4F 50 64 
密码(40): 00 28 32 63 32 61 30 30 32 62 34 63 32 31 64 32 36 31 34 62 32 37 63 63 61 32 31 31 62 65 34 63 36 32 63 37 39 37 39 39 36 32 

综合客户端ID+用户名+密码：00 29 64 65 76 69 63 65 31 7C 73 65 63 75 72 65 6D 6F 64 65 3D 33 2C 73 69 67 6E 6D 65 74 68 6F 64 3D 68 6D 61 63 73 68 61 31 7C 00 13 64 65 76 69 63 65 31 26 69 79 61 77 38 5A 6E 4E 4F 50 64 00 28 32 63 32 61 30 30 32 62 34 63 32 31 64 32 36 31 34 62 32 37 63 63 61 32 31 31 62 65 34 63 36 32 63 37 39 37 39 39 36 32
/************************************************************************************************/
CONNECT控制报文：
10 74 00 04 4D 51 54 54 04 C2 00 64 00 29 64 65 76 69 63 65 31 7C 73 65 63 75 72 65 6D 6F 64 65 3D 33 2C 73 69 67 6E 6D 65 74 68 6F 64 3D 68 6D 61 63 73 68 61 31 7C 00 13 64 65 76 69 63 65 31 26 69 79 61 77 38 5A 6E 4E 4F 50 64 00 28 32 63 32 61 30 30 32 62 34 63 32 31 64 32 36 31 34 62 32 37 63 63 61 32 31 31 62 65 34 63 36 32 63 37 39 37 39 39 36 32



/************************************************************************************************/
设备证书

{
  "ProductKey": "iyaw8ZnNOPd",
  "DeviceName": "device1",
  "DeviceSecret": "b7af4b7c1f2595f38952d222253b3dc6"
}

/************************************************************************************************/
{"clientId":"iyaw8ZnNOPd.device1|securemode=2,signmethod=hmacsha256,timestamp=1687486435091|","username":"device1&iyaw8ZnNOPd","mqttHostUrl":"iot-06z00cqh9qwxpyq.mqtt.iothub.aliyuncs.com","passwd":"f5698361230c40587274e48f33b29d6afa2ba9d5597afba07b4ee662500f4eeb","port":1883}



